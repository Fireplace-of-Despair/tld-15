@page
@using Composition;
@using TLD15.Helpers
@model IndexModel;

@{
    ViewData[Globals.Page.Title] = $"{IndexModel.Meta.Title} | {Globals.Brand.Slogan}";
    ViewData[Globals.Page.Description] = Globals.Brand.Description;

    ViewData[Globals.Page.OpenGraph.Url] = Model.Host.TrimLast('/') + ViewContext.HttpContext.Request.Path;
    ViewData[Globals.Page.OpenGraph.Image] = $"{Model.Host}logo.png";
    ViewData[Globals.Page.OpenGraph.Locale] = Globals.Settings.Locale;

    ViewData[Globals.Page.Meta.LastModified] = new DateTime(2025, 05, 20, 0, 0, 0, DateTimeKind.Utc).ToString("yyyy-MM-dd");
}

@{
    await Html.RenderPartialAsync(TLD15.Pages.Lore.PreviewModel.Meta.Path,
        await TLD15.Pages.Lore.PreviewModel.InitializeAsync(Model.ContextBusiness));
}

@{
    await Html.RenderPartialAsync(TLD15.Pages.Articles.PreviewModel.Meta.Path,
        await TLD15.Pages.Articles.PreviewModel.InitializeAsync(Model.ContextBusiness));
}

@{
    await Html.RenderPartialAsync(TLD15.Pages.Projects.PreviewModel.Meta.Path,
        await TLD15.Pages.Projects.PreviewModel.InitializeAsync(Model.ContextBusiness));
}

@{
    await Html.RenderPartialAsync(TLD15.Pages.Social.PreviewModel.Meta.Path,
        await TLD15.Pages.Social.PreviewModel.InitializeAsync(Model.ContextBusiness));
}

@{
    await Html.RenderPartialAsync(TLD15.Pages.Contacts.PreviewModel.Meta.Path,
        await TLD15.Pages.Contacts.PreviewModel.InitializeAsync(Model.ContextBusiness));
}