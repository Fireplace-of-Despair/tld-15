@page
@using Common.Composition
@using TLD15.Pages.Shared.Components.BrandHeader
@using TLD15.Pages.Shared.Components.NavigationLocal
@model IndexModel;

@{
    ViewData[Globals.Page.Title] = $"{Globals.Brand.Slogan} | {Globals.Brand.Title}";
    ViewData[Globals.OpenGraph.Url] =
    $"https://{ViewContext.HttpContext.Request.Host}" +
            $"{ViewContext.HttpContext.Request.Path}";
}

<div class="component-container">
    @await Component.InvokeAsync(nameof(NavigationLocal), new Dictionary<string, string>()
        {
            { TLD15.Pages.Articles.PreviewArticlesPartialModel.Id, "Articles" },
            { TLD15.Pages.Lore.PreviewLoreModel.Id, "Lore" },
            { TLD15.Pages.Contacts.PreviewContactsPartialModel.Id, "Contacts" }
        })
</div>

@{
    await Html.RenderPartialAsync("/Pages/Articles/PreviewPartial.cshtml",
        await TLD15.Pages.Articles.PreviewArticlesPartialModel.InitializeAsync(Model.Mediator));
}

@{
    await Html.RenderPartialAsync("/Pages/Lore/PreviewLorePartial.cshtml",
        await TLD15.Pages.Lore.PreviewLoreModel.InitializeAsync(Model.Mediator));
}

@{
    await Html.RenderPartialAsync("/Pages/Social/PreviewSocialPartial.cshtml",
        await TLD15.Pages.Social.PreviewSocialPartialModel.InitializeAsync(Model.Mediator));
}

@{
    await Html.RenderPartialAsync("/Pages/Contacts/PreviewContactsPartial.cshtml",
        await TLD15.Pages.Contacts.PreviewContactsPartialModel.InitializeAsync(Model.Mediator));
}
